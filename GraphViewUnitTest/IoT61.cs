using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using GraphView;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using Newtonsoft.Json;

namespace GraphViewUnitTest
{
    public partial class IoTUnitTest
    {
        [TestMethod]
        public void IoT61()
        {
            graph.OutputFormat = OutputFormat.Regular;

            //// ============== 1 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').constant('~0')),__.addV('application').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('|provisioning',0).property('|deleted',false))";
            graph.ExecuteAndGetResults();


            //// ============== 2 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',1).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~2')),__.coalesce(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application'),__.addV('application').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203')).property('|provisioning',1).property('|deleted',false))";
            graph.ExecuteAndGetResults();


            //// ============== 3 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl').flatMap(__.as('src').flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl')).as('tgt').select('src').outE('model').and(__.inV().where(eq('tgt'))))).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 4 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~4'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~5'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~6'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~7'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~8'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').values('/category').is(neq('product')).count().is(gt(0)).constant('~9'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~10'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-model').hasLabel('model').values('/category').is(neq('device')).count().is(gt(0)).constant('~11'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').outE().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-to-device-1').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~12'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',1).has('|v1',0).hasLabel('model').outE().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-to-device-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~13')),__.project('#v0','#v1','#v2','#v3','#v4','#v5').by(__.addV('instance').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-instance-1').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','First product instance'),__.property('product-property','product-property-value-1'),__.property('default-property','default')))).by(__.addV('instance').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-instance-2').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Second product instance'),__.property('product-property','product-property-value-2'),__.property('default-property','default')))).by(__.addV('instance').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','device-instance-1').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','First device instance'),__.property('device-property','device-property-value-1')))).by(__.addV('instance').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','device-instance-2').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Second device instance'),__.property('device-property','device-property-value-2')))).by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-model').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Product Model'),__.property('/category','product'),__.property('product-property','property','name','Product Property','dataType','string','attributes',',tag,'),__.property('optional-property','property','name','Optional Property','dataType','string','optional',true),__.property('default-property','property','name','Default Property','dataType','string','initialValue','\\\'default\\\'')))).by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','device-model').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Device Model'),__.property('/category','device'),__.property('/deviceMethods','{}','json',1),__.property('/deviceTelemetry','{\\\'waterUsed\\\':{\\\'properties\\\':{\\\'volume\\\':{\\\'dataType\\\':\\\'int64\\\',\\\'minValue\\\':0,\\\'maxValue\\\':1000000000000,\\\'units\\\':\\\'milliliter\\\'}}}}','json',1),__.property('device-property','property','name','Device Property','dataType','string','attributes',',tag,')))).as('#v').sideEffect(__.union(__.select('#v0').addE('mdl').to(__.select('#v').select('#v4')),__.select('#v1').addE('mdl').to(__.select('#v').select('#v4')),__.select('#v2').addE('mdl').to(__.select('#v').select('#v5')),__.select('#v3').addE('mdl').to(__.select('#v').select('#v5')))).map(__.union(__.select('#v0').addE('instance').to(__.select('#v').select('#v2')).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-to-device-1').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0'),__.select('#v4').addE('model').to(__.select('#v').select('#v5')).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-to-device-model').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0').property('|#src',1).property('|#tgt',0),__.select('#v4').addE('ref').to(__.select('#v').select('#v5')).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','reference-property').property('|ref:name','Reference Property').property('|ref:propertyId','device-property').property('|mdl:/_id','product-to-device-model').property('|mdl:|v0',1).property('|mdl:|v1',0)).property('/etag','0001489626889687').fold()).as('#e').union(__.select('#v').union(__.select('#v0').as('#a').constant(['product-property','default-property']),__.select('#v1').as('#a').constant(['product-property','default-property']),__.select('#v2').as('#a').constant(['device-property']),__.select('#v3').as('#a').constant(['device-property']),__.select('#v4').as('#a').constant(['product-property','optional-property','default-property']),__.select('#v5').as('#a').constant(['device-property'])).as('#p'),__.union(__.select('#e')).unfold().as('#f').union(__.inV().as('#a').select('#f').outV(),__.outV().as('#a').select('#f').inV()).map(__.optional(__.out('mdl')).as('#m').select('#a').optional(__.out('mdl')).inE('ref').and(__.outV().where(eq('#m'))).values('|ref:propertyId').fold()).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626889687').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 5 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('model').has('/category','product').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 6 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','unknownApp').hasLabel('application')).constant('~0'),__.V().has('|app','unknownApp').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','unknownApp').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','unknownApp').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','unknownApp').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~4'),__.V().has('|app','unknownApp').has('/_id','parent-model').hasLabel('model').values('/category').is(neq('product')).count().is(gt(0)).constant('~5')),__.project('#v0').by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','unknownApp').property('/_id','parent-model').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Parent Product Model'),__.property('/category','product')))).as('#v').union(__.select('#v').union(__.select('#v0').as('#a').constant([])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626894998').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 7 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~4'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').hasLabel('model').values('/category').is(neq('product')).count().is(gt(0)).constant('~5')),__.project('#v0').by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','parent-model').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Parent Product Model'),__.property('/category','product')))).as('#v').union(__.select('#v').union(__.select('#v0').as('#a').constant([])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626895646').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 8 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~4'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').hasLabel('model').values('/category').is(neq('product')).count().is(gt(0)).constant('~5')),__.project('#v0').by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','parent-model').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Parent Product Model'),__.property('/category','product')))).as('#v').union(__.select('#v').union(__.select('#v0').as('#a').constant([])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626896323').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 9 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 10 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V(336032).outE().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-to-product-model').has('|v0',1).has('|v1',0).hasLabel('model').constant('~4'),__.not(__.V(336032).has('/etag','0001489626895646')).constant('~5'),__.not(__.V(327856).has('/etag','0001489626889687')).constant('~6')),__.map(__.union(__.V(336032).addE('model').to(__.V(327856)).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','parent-to-product-model').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0').property('|#src',1).property('|#tgt',1),__.V(336032).addE('ref').to(__.V(327856)).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','recursive-reference-property').property('|ref:name','Recursive Reference Property').property('|ref:propertyId','reference-property').property('|mdl:/_id','parent-to-product-model').property('|mdl:|v0',1).property('|mdl:|v1',0)).property('/etag','0001489626896965').fold()).as('#e').union(__.union(__.select('#e')).unfold().as('#f').union(__.inV().as('#a').select('#f').outV(),__.outV().as('#a').select('#f').inV()).map(__.optional(__.out('mdl')).as('#m').select('#a').optional(__.out('mdl')).inE('ref').and(__.outV().where(eq('#m'))).values('|ref:propertyId').fold()).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626896965').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 11 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 12 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(g.E().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-to-product-model').has('|v0',1).has('|v1',0).hasLabel('model').range(0,100).sideEffect(__.project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.inV(),__.outV()).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 13 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(g.E().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-to-product-model').has('|v0',1).has('|v1',0).hasLabel('model').range(0,100).sideEffect(__.project('edge').by().store('^edges')).union(__.inV(),__.outV()).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 14 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 15 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',1).has('|v1',0).hasLabel('model').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 16 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-model').has('|v0',1).has('|v1',0).hasLabel('model').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 17 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','model-missing').has('|v0',1).has('|v1',0).hasLabel('model').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 18 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 19 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.not(__.V(336032).has('/etag','0001489626896965')).constant('~4'),__.V(336032).in('mdl').count().is(gt(0)).constant('~5')),__.identity())";
            graph.ExecuteAndGetResults();


            //// ============== 20 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 21 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.not(__.V(336032).has('/etag','0001489626896965')).constant('~4'),__.V(336032).in('mdl').count().is(gt(0)).constant('~5')),__.project('#v0').by(__.V(336032).sideEffect(__.union(__.sideEffect(__.outE('_val').has('_key','parent-property').inV().sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())).drop()).property('parent-property','property','name','Parent Property','dataType','string')))).as('#v').union(__.select('#v').union(__.V(336032).as('#a').constant(['parent-property'])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626898060').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 22 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',1).has('|v1',0).hasLabel('model')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 23 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.not(__.V(327856).has('/etag','0001489626896965')).constant('~4'),__.V(327856).in('mdl').count().is(gt(0)).constant('~5')),__.project('#v0').by(__.V(327856).sideEffect(__.union(__.sideEffect(__.outE('_val').has('_key','optional-property').inV().sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())).drop()).property('optional-property','property','name','Optional Property','dataType','string')))).as('#v').union(__.select('#v').union(__.V(327856).as('#a').constant(['optional-property'])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626898546').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 24 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 25 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',1).has('|v1',1).hasLabel('model').constant('~4'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').values('/category').is(neq('product')).count().is(gt(0)).constant('~5')),__.project('#v0').by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-model').property('|v0',1).property('|v1',1).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Product Model vLatest'),__.property('/category','product')))).as('#v').union(__.select('#v').union(__.select('#v0').as('#a').constant([])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626899062').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 26 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',2).has('|v1',0).hasLabel('model').constant('~4'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').values('/category').is(neq('product')).count().is(gt(0)).constant('~5')),__.project('#v0').by(__.addV('model').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','product-model').property('|v0',2).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Product Model v2'),__.property('/category','product')))).as('#v').union(__.select('#v').union(__.select('#v0').as('#a').constant([])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626899788').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 27 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').order().by('|v0',decr).by('|v1',decr).limit(1).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 28 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(2)),__.has('|v0',2).has('|v1',lt(0))))).order().by('|v0',decr).by('|v1',decr).limit(1).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 29 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-model').has('|v0',1).has('|v1',0).hasLabel('model').in('mdl').union(__.identity(),__.count().store('^count').constant([]).unfold()).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^count').unfold()))";
            graph.ExecuteAndGetResults();


            //// ============== 30 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').hasLabel('model').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 31 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~4'),__.not(__.V(336032).has('/etag','0001489626898060')).constant('~5')),__.project('#v0').by(__.addV('instance').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','parent-instance').property('|v0',1).property('|v1',0).sideEffect(__.union(__.property('/_schemaVersion','1.0.0'),__.property('/name','Parent instance'),__.property('parent-property','parent-property-value')))).as('#v').sideEffect(__.union(__.select('#v0').addE('mdl').to(__.V(336032)))).union(__.select('#v').union(__.select('#v0').as('#a').constant(['parent-property'])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626900574').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 32 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl').flatMap(__.as('src').flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl')).as('tgt').select('src').outE('model').and(__.inV().where(eq('tgt'))))).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 33 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V(344224).outE().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-to-product').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~4'),__.not(__.V(344224).has('/etag','0001489626900574')).constant('~5'),__.not(__.V(327840).has('/etag','0001489626889687')).constant('~6'),__.V(327840).as('vtx').V(336032).as('mdl').select('vtx').in('instance').and(__.out('mdl').where(eq('mdl'))).count().is(gt(0)).constant('~7'),__.V(344224).as('vtx').V(327856).as('mdl').select('vtx').out('instance').and(__.out('mdl').where(eq('mdl'))).count().is(gt(0)).constant('~8')),__.map(__.union(__.V(344224).addE('instance').to(__.V(327840)).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','parent-to-product').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0')).property('/etag','0001489626901249').fold()).as('#e').union(__.union(__.select('#e')).unfold().as('#f').union(__.inV().as('#a').select('#f').outV(),__.outV().as('#a').select('#f').inV()).map(__.optional(__.out('mdl')).as('#m').select('#a').optional(__.out('mdl')).inE('ref').and(__.outV().where(eq('#m'))).values('|ref:propertyId').fold()).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626901249').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 34 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-missing').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl').flatMap(__.as('src').flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-missing').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl')).as('tgt').select('src').outE('model').and(__.inV().where(eq('tgt'))))).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 35 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('instance').and(__.out('mdl').has('/category','product')).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 36 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('instance').and(__.out('mdl').has('/category','product')).order().by('/_id',incr).range(1,2).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 37 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('instance').and(__.out('mdl').has('/category','product')).order().by('/etag',decr).by('/_id',decr).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 38 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('instance').and(__.out('mdl').has('/category','product')).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 39 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 40 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 41 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 42 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.not(__.V(303136).has('/etag','0001489626889687')).constant('~4'),__.not(__.V(352280).has('/etag','0001489626889687')).constant('~5'),__.not(__.V(327840).has('/etag','0001489626901249')).constant('~6'),__.not(__.V(327856).has('/etag','0001489626896965')).constant('~7')),__.project('#v0','#v1').by(__.V(303136).sideEffect(__.union(__.sideEffect(__.outE('_val').has('_key','device-property').inV().sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())).drop()).property('device-property','device-property-value-updated')))).by(__.V(327840).sideEffect(__.union(__.sideEffect(__.outE('_val').has('_key','product-property').inV().sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())).drop()).property('product-property','product-property-value-updated')))).as('#v').union(__.select('#v').union(__.V(303136).as('#a').constant(['device-property']),__.V(327840).as('#a').constant(['product-property','reference-property'])).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626902274').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 43 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 44 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup()).tree().project('tree','results').by().by(__.cap('^ids')))";
            graph.ExecuteAndGetResults();


            //// ============== 45 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup()).tree().project('tree','results').by().by(__.cap('^ids')))";
            graph.ExecuteAndGetResults();


            //// ============== 46 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).tree().project('tree','results','models').by().by(__.cap('^ids')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 47 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 48 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance').as('s').out('mdl').as('sM').union(__.inE('model').as('@r').outV().as('tM').has('/category','product').in('mdl').as('t').and(__.out('instance').where(eq('s')).count().is(0),__.project('c','u').by(__.select('@r').values('|#tgt')).by(__.select('t').out('instance').out('mdl').where(eq('sM')).count()).or(__.where('c',gt('u')),__.select('c').is(0)),__.project('c','u').by(__.select('@r').values('|#src')).by(__.select('s').in('instance').out('mdl').where(eq('tM')).count()).or(__.where('c',gt('u')),__.select('c').is(0))),__.outE('model').as('@r').inV().as('tM').has('/category','product').in('mdl').as('t').and(__.in('instance').where(eq('s')).count().is(0),__.project('c','u').by(__.select('@r').values('|#src')).by(__.select('t').in('instance').out('mdl').where(eq('sM')).count()).or(__.where('c',gt('u')),__.select('c').is(0)),__.project('c','u').by(__.select('@r').values('|#tgt')).by(__.select('s').out('instance').out('mdl').where(eq('tM')).count()).or(__.where('c',gt('u')),__.select('c').is(0)))).range(0,100).sideEffect(__.union(__.id().store('^ids'),__.map(__.select('@r').unfold().sideEffect(__.union(__.inV(),__.outV()).group('^ptrs').by(__.id()).by(__.project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))).project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).fold()).store('^rels'))).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','pointers','rels','branches','models').by().by(__.cap('^ids')).by(__.cap('^ptrs')).by(__.cap('^rels')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 49 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl').flatMap(__.as('src').flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl')).as('tgt').select('src').outE('model').and(__.inV().where(eq('tgt'))))).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 50 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V(327840).outE().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','f3f9bd95-0926-491f-b6b9-104dfbb3a8ab').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~4'),__.not(__.V(327840).has('/etag','0001489626902274')).constant('~5'),__.not(__.V(331936).has('/etag','0001489626889687')).constant('~6'),__.V(331936).as('vtx').V(327856).as('mdl').select('vtx').in('instance').and(__.out('mdl').where(eq('mdl'))).count().is(gt(0)).constant('~7')),__.map(__.union(__.V(327840).addE('instance').to(__.V(331936)).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','f3f9bd95-0926-491f-b6b9-104dfbb3a8ab').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0')).property('/etag','0001489626903153').fold()).as('#e').union(__.union(__.select('#e')).unfold().as('#f').union(__.inV().as('#a').select('#f').outV(),__.outV().as('#a').select('#f').inV()).map(__.optional(__.out('mdl')).as('#m').select('#a').optional(__.out('mdl')).inE('ref').and(__.outV().where(eq('#m'))).values('|ref:propertyId').fold()).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626903153').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 51 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl').flatMap(__.as('src').flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl')).as('tgt').select('src').outE('model').and(__.inV().where(eq('tgt'))))).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 52 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-2').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-2').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl').flatMap(__.as('src').flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1).out('mdl')).as('tgt').select('src').outE('model').and(__.inV().where(eq('tgt'))))).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 53 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V(348184).outE().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','489d37fb-ba42-4f47-9b6f-d2f24fd769c1').has('|v0',1).has('|v1',0).hasLabel('instance').constant('~4'),__.not(__.V(348184).has('/etag','0001489626889687')).constant('~5'),__.not(__.V(303136).has('/etag','0001489626902274')).constant('~6'),__.V(303136).as('vtx').V(327856).as('mdl').select('vtx').in('instance').and(__.out('mdl').where(eq('mdl'))).count().is(gt(0)).constant('~7')),__.map(__.union(__.V(348184).addE('instance').to(__.V(303136)).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','489d37fb-ba42-4f47-9b6f-d2f24fd769c1').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0')).property('/etag','0001489626903870').fold()).as('#e').union(__.union(__.select('#e')).unfold().as('#f').union(__.inV().as('#a').select('#f').outV(),__.outV().as('#a').select('#f').inV()).map(__.optional(__.out('mdl')).as('#m').select('#a').optional(__.out('mdl')).inE('ref').and(__.outV().where(eq('#m'))).values('|ref:propertyId').fold()).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().property('/etag','0001489626903870').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 54 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance').as('s').out('mdl').as('sM').union(__.inE('model').as('@r').outV().as('tM').has('/category','product').in('mdl').as('t').and(__.out('instance').where(eq('s')).count().is(0),__.project('c','u').by(__.select('@r').values('|#tgt')).by(__.select('t').out('instance').out('mdl').where(eq('sM')).count()).or(__.where('c',gt('u')),__.select('c').is(0)),__.project('c','u').by(__.select('@r').values('|#src')).by(__.select('s').in('instance').out('mdl').where(eq('tM')).count()).or(__.where('c',gt('u')),__.select('c').is(0))),__.outE('model').as('@r').inV().as('tM').has('/category','product').in('mdl').as('t').and(__.in('instance').where(eq('s')).count().is(0),__.project('c','u').by(__.select('@r').values('|#src')).by(__.select('t').in('instance').out('mdl').where(eq('sM')).count()).or(__.where('c',gt('u')),__.select('c').is(0)),__.project('c','u').by(__.select('@r').values('|#tgt')).by(__.select('s').out('instance').out('mdl').where(eq('tM')).count()).or(__.where('c',gt('u')),__.select('c').is(0)))).range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 55 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').bothE('instance').as('@r').otherV().and(__.out('mdl').has('/category','device')).range(0,100).sideEffect(__.union(__.id().store('^ids'),__.map(__.select('@r').unfold().sideEffect(__.union(__.inV(),__.outV()).group('^ptrs').by(__.id()).by(__.project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))).project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).fold()).store('^rels'))).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','pointers','rels','branches','models').by().by(__.cap('^ids')).by(__.cap('^ptrs')).by(__.cap('^rels')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 56 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.constant([])).by(__.union(g.E().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-to-device-1').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 57 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.constant([])).by(__.union(g.E().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-to-device-1').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 58 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-2').hasLabel('instance').or(__.and(__.or(__.has('|v0',gte(1)),__.has('|v0',1).has('|v1',gte(0))),__.or(__.has('|v0',lt(1)),__.has('|v0',1).has('|v1',lt(1))))).order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.union(g.E().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-to-product').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 59 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.not(__.V(344224).outE().hasId('ccgk-7dls-kk5-70yo').has('/etag','0001489626901249')).constant('~4'),__.not(__.V(344224).has('/etag','0001489626904596')).constant('~5'),__.not(__.V(348184).has('/etag','0001489626889687')).constant('~6')),__.map(__.union(__.coalesce(__.V(344224).outE().hasId('ccgk-7dls-kk5-70yo'),__.constant(''))).fold()).as('#-e').map(__.union(__.V(344224).addE('instance').to(__.V(348184)).property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('/_id','parent-to-product').property('|v0',1).property('|v1',0).property('/_schemaVersion','1.0.0')).property('/etag','0001489626904976').fold()).as('#e').map(__.union(__.union(__.select('#-e'),__.select('#e')).unfold().as('#f').union(__.inV().as('#a').select('#f').outV(),__.outV().as('#a').select('#f').inV()).map(__.optional(__.out('mdl')).as('#m').select('#a').optional(__.out('mdl')).inE('ref').and(__.outV().where(eq('#m'))).values('|ref:propertyId').fold()).as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().fold()).sideEffect(__.select('#-e').unfold().drop()).unfold().property('/etag','0001489626904976').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 60 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').has('|v0',1).has('|v1',0).hasLabel('instance').outE('instance').as('@r').inV().range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 61 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 62 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3'),__.V(336032).in('mdl').count().is(gt(0)).constant('~4')),__.map(__.union(__.coalesce(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model').sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())),__.constant(''))).fold()).as('#-v').map(__.union(__.select('#-v').unfold().as('#a').constant('').as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').or(__.select('#p').is(''),__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().where(without('#-v')).fold()).sideEffect(__.select('#-v').unfold().drop()).unfold().property('/etag','0001489626905557').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 63 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').hasLabel('instance').order().by('|v0',decr).by('|v1',decr).limit(1)).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 64 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-instance').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 65 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','parent-model').has('|v0',1).has('|v1',0).hasLabel('model')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 66 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.project('vertices','edges').by(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance')).dedup().fold()).by(__.constant([])).sideEffect(__.select('edges').unfold().project('edge','refs').by().by(__.hasLabel('model').as('eM').inV().bothE('ref').and(__.project('x','y').by(__.select('eM').values('/_id')).by(__.values('|mdl:/_id')).where('x',eq('y'))).fold()).store('^edges')).union(__.select('vertices').unfold().sideEffect(__.id().store('^ids')),__.select('edges').unfold().union(__.inV(),__.outV())).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')).union(__.identity(),__.cap('^edges')))";
            graph.ExecuteAndGetResults();


            //// ============== 67 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.map(__.union(__.coalesce(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())),__.constant('')),__.coalesce(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-1').has('|v0',1).has('|v1',0).hasLabel('instance').sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())),__.constant('')),__.coalesce(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','device-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance').sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())),__.constant('')),__.coalesce(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').has('/_id','product-instance-2').has('|v0',1).has('|v1',0).hasLabel('instance').sideEffect(__.union(__.properties().has(T.key, neq('name')).drop(),__.repeat(__.out('_val')).emit().barrier().drop())),__.constant(''))).fold()).as('#-v').map(__.union(__.select('#-v').unfold().as('#a').constant('').as('#p')).select('#a').union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).inE('ref').or(__.select('#p').is(''),__.values('|ref:propertyId').where(within('#p')))).repeat(__.as('@e').flatMap(__.outV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('/_id').as('key').select(last,'@v').optional(__.out('mdl')).inE('ref').and(__.values('|ref:propertyId').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).select('@v').unfold()).dedup().where(without('#-v')).fold()).sideEffect(__.select('#-v').unfold().drop()).unfold().property('/etag','0001489626906777').project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')))";
            graph.ExecuteAndGetResults();


            //// ============== 68 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 69 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').constant('~0')),__.addV('application').property('name', 'nameUsedAsPartitionKey').property('|app','96289b06-c417-4757-beb0-7ba28412c203').property('|provisioning',0).property('|deleted',true))";
            graph.ExecuteAndGetResults();


            //// ============== 70 ==============
            graph.CommandText = "g.inject(0).coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0')),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').property('|deleted',true))";
            graph.ExecuteAndGetResults();


            //// ============== 71 ==============
            graph.CommandText = "g.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').coalesce(__.union(__.not(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application')).constant('~0'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',0).constant('~1'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|provisioning',2).constant('~2'),__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('application').has('|deleted',true).constant('~3')),__.flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').hasLabel('instance').range(0,100).sideEffect(__.id().store('^ids')).dedup().union(__.identity(),__.as('@v').flatMap(__.optional(__.out('mdl')).outE('ref')).repeat(__.as('@e').flatMap(__.inV().as('mdl').select(last,'@v').both().dedup().and(__.optional(__.out('mdl')).where(eq('mdl')))).as('@v').optional(__.flatMap(__.select(last,'@e').values('|ref:propertyId').as('key').select(last,'@v').optional(__.out('mdl')).outE('ref').and(__.values('/_id').where(eq('key')))))).until(__.flatMap(__.as('res').select(last,'@v').where(eq('res')))).sideEffect(__.project('segments','targets').by(__.select('@e').unfold().fold()).by(__.select('@v').unfold().project('label','/_id','|v0','|v1').by(__.label()).by(__.values('/_id')).by(__.values('|v0')).by(__.values('|v1')).fold()).store('^refs'))).dedup().union(__.identity().sideEffect(__.group('^mdls').by(__.id()).by(__.coalesce(__.out('mdl').id(),__.constant('')))),__.out('mdl')).dedup()).emit().repeat(__.outE('_val').as('_').inV()).tree().project('tree','results','branches','models').by().by(__.cap('^ids')).by(__.cap('^refs')).by(__.cap('^mdls')))";
            graph.ExecuteAndGetResults();


            //// ============== 72 ==============
            graph.CommandText = "g.inject(0).flatMap(__.V().has('|app','96289b06-c417-4757-beb0-7ba28412c203').drop())";
            var result = graph.ExecuteAndGetResults();

            foreach (var r in result)
            {
                Console.WriteLine(r);
            }

            Console.WriteLine(graph.g().V().Count().Next()[0]);
            Console.WriteLine(graph.g().E().Count().Next()[0]);

            result = graph.g().E().Next();
            foreach (var r in result)
            {
                Console.WriteLine(r);
            }
        }
    }
}
